* A REVEER, ESTA COPIADA DE UN EJERCICIO DE E/S
ROM		EQU	$C000
RAM		EQU	$0000
RESET	EQU	$FFFE

		ORG	RAM
FLAG	RMB 1
HORA	RMB	1
MINUTO	RMB	1
SEGUNDO	RMB	1
		
		ORG	ROM
		LDAA	FLAG
		STAA	SEGUNDO
		STAA	MINUTO
		LDAA	#$23
		STAA	HORA

Main
		BEQ	Main
		CLR	FLAGIRQ
		JSR	INCSEC
		BRA	Main
RESETTIME
		LDAA	#$12
		STAA	HORA
		CLR	MINUTO
		CLR	SEGUNDO
		CLR	FLAGNMI
		BRA	Main
INCSEC
		LDAA 	SEGUNDO   ; $09
		ADDA 	#1        ; $0A
		DAA               ; $10
		STAA 	SEGUNDO
		CMPA	#$60
		BEQ	RESETSEG
		RTS
RESETSEG	CLR	SEGUNDO
		LDAA	MINUTO
		ADDA	#1
		DAA
		STAA	MINUTO
		CMPA	#$60
		BEQ	RESETMIN
		RTS
RESETMIN	CLR	MINUTO
		LDAA	HORA
		ADDA	#1
		DAA
		STAA	HORA
		CMPA	#$24
		BEQ	RESETHOR
		RTS
RESETHOR	CLR	HORA
		RTS

		ORG	RESET
		DW	ROM